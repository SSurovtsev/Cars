{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nconst _c0 = \".back[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n  margin-left: 20px;\\n  width: 150px;\\n}\\n\\n\\n\\nhtml[_ngcontent-%COMP%], body[_ngcontent-%COMP%], .stage[_ngcontent-%COMP%], .ring[_ngcontent-%COMP%], .img[_ngcontent-%COMP%] {\\n  width:100%;\\n  height: 100%;\\n  transform-style: preserve-3d;\\n  -webkit-user-select:none;\\n          user-select:none;\\n}\\n\\n\\n\\nhtml[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{\\n  overflow:hidden;\\n  background:#000;\\n\\n}\\n\\n\\n\\ndiv[_ngcontent-%COMP%] {\\n  position: absolute;\\n}\\n\\n\\n\\n.container[_ngcontent-%COMP%] {\\n  \\n\\n  perspective: 2000px;\\n  width: 300px;\\n  height: 400px;\\n  left:50%;\\n  top:50%;\\n  \\n\\n  transform:translate(-50%,-50%);\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kZXRhaWxzL2RldGFpbHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsWUFBWTtBQUNkOztBQUVBLDhFQUE4RTtBQUM5RTtFQUNFLFVBQVU7RUFDVixZQUFZO0VBQ1osNEJBQTRCO0VBQzVCLHdCQUFnQjtVQUFoQixnQkFBZ0I7QUFDbEI7O0FBRUEsa0VBQWtFO0FBQ2xFO0VBQ0UsZUFBZTtFQUNmLGVBQWU7O0FBRWpCOztBQUVBLGlFQUFpRTtBQUNqRTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQSw2Q0FBNkM7QUFDN0M7RUFDRSxtRUFBbUU7RUFDbkUsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixhQUFhO0VBQ2IsUUFBUTtFQUNSLE9BQU87RUFDUCxxQ0FBcUM7RUFDckMsOEJBQThCO0FBQ2hDIiwic291cmNlc0NvbnRlbnQiOlsiLmJhY2sge1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgbWFyZ2luLWxlZnQ6IDIwcHg7XHJcbiAgd2lkdGg6IDE1MHB4O1xyXG59XHJcblxyXG4vKiDDkMK+w5DCscORwonDkMK4w5DCtSDDkMK9w5DCsMORwoHDkcKCw5HCgMOQwr7DkMK5w5DCusOQwrggw5DCtMOQwrvDkcKPIMOQwrLDkcKBw5DCtcOQwrkgw5HCgcORwoLDkcKAw5DCsMOQwr3DkMK4w5HChsORwossIMOQwrAgw5HCgsOQwrDDkMK6w5DCtsOQwrUgw5DCtMOQwrvDkcKPIMOQwrrDkMKww5HCgMORwoLDkMK4w5DCvcOQwr7DkMK6IMOQwrggw5DCscOQwrvDkMK+w5DCusOQwrAgw5HCgSDDkMK6w5DCvsOQwrvDkcKMw5HChsOQwr7DkMK8ICovXHJcbmh0bWwsIGJvZHksIC5zdGFnZSwgLnJpbmcsIC5pbWcge1xyXG4gIHdpZHRoOjEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHRyYW5zZm9ybS1zdHlsZTogcHJlc2VydmUtM2Q7XHJcbiAgdXNlci1zZWxlY3Q6bm9uZTtcclxufVxyXG5cclxuLyogw5DCvcOQwrDDkcKBw5HCgsORwoDDkMKww5DCuMOQwrLDkMKww5DCtcOQwrwgw5DCvsOQwrHDkcKJw5DCuMOQwrUgw5DCv8ORwoDDkMKww5DCssOQwrjDkMK7w5DCsCDDkcKBw5DCusORwoDDkcKLw5HCgsOQwrjDkcKPIMOQwrvDkMK4w5HCiMOQwr3DkMK4w5HChSDDkMK+w5DCscORworDkMK1w5DCusORwoLDkMK+w5DCsiDDkMK9w5DCsCDDkcKBw5HCgsORwoDDkMKww5DCvcOQwrjDkcKGw5DCtSAqL1xyXG5odG1sLCBib2R5e1xyXG4gIG92ZXJmbG93OmhpZGRlbjtcclxuICBiYWNrZ3JvdW5kOiMwMDA7XHJcblxyXG59XHJcblxyXG4vKiDDkcKDw5HCgcORwoLDkMKww5DCvcOQwrDDkMKyw5DCu8OQwrjDkMKyw5DCsMOQwrXDkMK8IMOQwrDDkMKxw5HCgcOQwr7DkMK7w5HCjsORwoLDkMK9w5DCvsOQwrUgw5DCv8OQwr7DkMK3w5DCuMORwobDkMK4w5DCvsOQwr3DkMK4w5HCgMOQwr7DkMKyw5DCsMOQwr3DkMK4w5DCtSDDkMKxw5DCu8OQwr7DkMK6w5DCvsOQwrIgw5DCvcOQwrAgw5HCgcORwoLDkcKAw5DCsMOQwr3DkMK4w5HChsOQwrUgKi9cclxuZGl2IHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbn1cclxuXHJcbi8qIMOQwr7DkcKCw5DCtMOQwrXDkMK7w5HCjMOQwr3DkcKLw5DCtSDDkMK9w5DCsMORwoHDkcKCw5HCgMOQwr7DkMK5w5DCusOQwrggw5DCtMOQwrvDkcKPIMOQwrrDkMKww5HCgMORwoPDkcKBw5DCtcOQwrvDkMK4IMOQwrIgw5HChsOQwrXDkMK7w5DCvsOQwrwgKi9cclxuLmNvbnRhaW5lciB7XHJcbiAgLyrDkMK9w5DCsCDDkcKBw5DCusOQwr7DkMK7w5HCjMOQwrrDkMK+IMORwobDkMK1w5DCvcORwoLDkcKAIMOQwrrDkMKww5HCgMORwoPDkcKBw5DCtcOQwrvDkMK4IMOQwrHDkcKDw5DCtMOQwrXDkcKCIMOQwrLDkMK4w5HCgMORwoLDkcKDw5DCsMOQwrvDkcKMw5DCvcOQwr4gw5HCg8OQwrXDkMK0w5DCtcORwoIgw5DCssOQwrPDkMK7w5HCg8OQwrHDkcKMIMOQwrzDkMK+w5DCvcOQwrjDkcKCw5DCvsORwoDDkMKwKi9cclxuICBwZXJzcGVjdGl2ZTogMjAwMHB4O1xyXG4gIHdpZHRoOiAzMDBweDtcclxuICBoZWlnaHQ6IDQwMHB4O1xyXG4gIGxlZnQ6NTAlO1xyXG4gIHRvcDo1MCU7XHJcbiAgLyrDkMK6w5DCsMOQwrogw5DCscORwoPDkMK0w5HCg8ORwoIgw5HCgcOQwrTDkMKyw5DCuMOQwrPDkMKww5HCgsORwozDkcKBw5HCjyDDkMK9w5DCsMORwojDkMK4IMOQwrrDkMKww5HCgMORwoLDkMK4w5DCvcOQwrrDkMK4Ki9cclxuICB0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\";\nexport class DetailsComponent {}\n_class = DetailsComponent;\n_class.ɵfac = function DetailsComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-details\"]],\n  decls: 22,\n  vars: 0,\n  consts: [[\"lang\", \"ru\"], [\"charset\", \"UTF-8\"], [\"routerLink\", \"/catalog\", 1, \"btn\", \"btn-outline-danger\", \"back\"], [1, \"container\"], [1, \"ring\"], [1, \"img\"]],\n  template: function DetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n      i0.ɵɵelement(2, \"meta\", 1);\n      i0.ɵɵelementStart(3, \"title\");\n      i0.ɵɵtext(4, \"3D-\\u0444\\u043E\\u0442\\u043E\\u043A\\u0430\\u0440\\u0443\\u0441\\u0435\\u043B\\u044C \\u0441 \\u043F\\u0430\\u0440\\u0430\\u043B\\u043B\\u0430\\u043A\\u0441\\u043E\\u043C\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"body\")(6, \"button\", 2);\n      i0.ɵɵtext(7, \"\\u041D\\u0430\\u0437\\u0430\\u0434 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"p\");\n      i0.ɵɵtext(9, \" details works! \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 3)(11, \"div\", 4);\n      i0.ɵɵelement(12, \"div\", 5)(13, \"div\", 5)(14, \"div\", 5)(15, \"div\", 5)(16, \"div\", 5)(17, \"div\", 5)(18, \"div\", 5)(19, \"div\", 5)(20, \"div\", 5)(21, \"div\", 5);\n      i0.ɵɵelementEnd()()()();\n    }\n  },\n  dependencies: [i1.RouterLink],\n  styles: [_c0, _c0]\n});","map":{"version":3,"names":["DetailsComponent","selectors","decls","vars","consts","template","DetailsComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\Surovtsev Stepan\\cars\\skills\\src\\app\\components\\details\\details.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-details',\n  template: `\n\n    <!DOCTYPE html>\n    <html lang=\"ru\" >\n    <head>\n      <meta charset=\"UTF-8\">\n      <title>3D-фотокарусель с параллаксом</title>\n      <link rel=\"stylesheet\" href=\"details.component.css\">\n\n    </head>\n    <body>\n    <button class=\"btn btn-outline-danger back\" routerLink=\"/catalog\" >Назад </button>\n    <p>\n      details works!\n    </p>\n    <!-- общий блок для всей карусели -->\n    <div class=\"container\">\n      <!-- блок, который собирает фотографии в кольцо -->\n      <div class=\"ring\">\n        <!-- блоки для изображений в карусели -->\n        <div class=\"img\"></div>\n        <div class=\"img\"></div>\n        <div class=\"img\"></div>\n        <div class=\"img\"></div>\n        <div class=\"img\"></div>\n        <div class=\"img\"></div>\n        <div class=\"img\"></div>\n        <div class=\"img\"></div>\n        <div class=\"img\"></div>\n        <div class=\"img\"></div>\n      </div>\n    </div>\n    <!-- подключаем платформу анимации GSAP, чтобы создавать анимации сразу с параллаксом -->\n    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js'></script>\n    <!-- подключаем Zepto — облегчённую библиотеку, аналог jQuery -->\n    <script src='https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js'></script>\n    <!-- подключаем наш основной скрипт -->\n    <script>\n      // здесь будем хранить текущее значение сдвига карусели\n      let xPos = 0;\n\n\n      // получаем свойство background-position у элемента с номером i, чтобы отрисовать картинку в нужном месте в карусели\n      function getBgPos(i){\n        return ( 100-gsap.utils.wrap(0,360,gsap.getProperty('.ring', 'rotationY')-180-i*36)/360*500 )+'px 0px';\n      }\n\n      // основная функция, которая управляет всеми спецэффектами в карусели\n      gsap.timeline()\n        // устанавливаем свойство rotationY, чтобы была видна только одна половина виртуального кольца с картинками\n        .set('.ring', { rotationY:180, cursor:'grab' })\n\n        // поворачиваем вдоль виртуального кольца каждую картинку\n        .set('.img',  {\n          rotateY: (i)=> i*-36,\n          transformOrigin: '50% 50% 500px',\n          z: -500,\n          // берём новую картинку для карусели по её индексу\n          backgroundImage:(i)=>'url(https://picsum.photos/id/'+(i+32)+'/600/400/)',\n          // сразу масштабируем картинки под их размер в карусели\n          backgroundPosition:(i)=>getBgPos(i),\n          // не показываем обратную сторону картинок\n          backfaceVisibility:'hidden'\n        })\n\n        // добавляем эффекты затемнения\n        .add(()=>{\n          // когда мышь попадает в зону карусели\n          $('.img').on('mouseenter', (e)=>{\n            // находим текущий элемент, на который указывает мышь\n            let current = e.currentTarget;\n            // затемняем всё, кроме этого элемента\n            gsap.to('.img', {opacity:(i,t)=>(t==current)? 1:0.5, ease:'power3'})\n          })\n          // когда мышь ушла за пределы карусели\n          $('.img').on('mouseleave', (e)=>{\n            // убираем затемнение и эффекты со всех картинок\n            gsap.to('.img', {opacity:1, ease:'power2.inOut'})\n          })\n        })\n\n      // когда зажата левая кнопка мыши — можно крутить карусель\n      $(window).on('mousedown touchstart', dragStart);\n      // отпускаем мышь — карусель останавливается\n      $(window).on('mouseup touchend', dragEnd);\n\n      // прокрутка карусели\n      function dragStart(e){\n        // если было касание тач-интерфейса — получаем координаты касания\n        if (e.touches)\n          e.clientX = e.touches[0].clientX;\n        // устанавливаем новое значение сдвига карусели\n        xPos = Math.round(e.clientX);\n        // меняем форму курсора внутри карусели, чтобы было видно, что мышь ей управляет\n        gsap.set('.ring', {cursor:'grabbing'})\n        // когда мышь начнёт двигаться — запускаем функцию обработки захвата карусели\n        $(window).on('mousemove touchmove', drag);\n      }\n\n      // функция обработки захвата карусели\n      function drag(e){\n        // если было касание тач-интерфейса — получаем координаты касания\n        if (e.touches)\n          e.clientX = e.touches[0].clientX;\n        // обрабатываем общий блок с кольцом\n        gsap.to('.ring', {\n          // высчитываем разницу между старым и новым положением и меняем значение свойства rotationY\n          rotationY: '-=' +( (Math.round(e.clientX)-xPos)%360 ),\n          // запускаем встроенную в GSAP функцию: она дождётся нового положения карусели и поменяет положения картинок в ней\n          onUpdate:()=>{ gsap.set('.img', { backgroundPosition:(i)=>getBgPos(i) }) }\n        });\n        // устанавливаем новое значение сдвига карусели\n        xPos = Math.round(e.clientX);\n      }\n\n      // обрабатываем конец вращения карусели\n      function dragEnd(e){\n        // считаем новое положение карусели после того, как отпустили мышь\n        $(window).off('mousemove touchmove', drag);\n        // меняем форму курсора на карусели\n        gsap.set('.ring', {cursor:'grab'});\n      }\n    </script>\n\n    </body>\n    </html>\n  `,\n  styleUrls: ['./details.component.css']\n})\nexport class DetailsComponent {\n\n}\n"],"mappings":";;;;AAqIA,OAAM,MAAOA,gBAAgB;SAAhBA,gBAAgB;;mBAAhBA,MAAgB;AAAA;;QAAhBA,MAAgB;EAAAC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,0BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MA9HzBE,EAAA,CAAAC,cAAA,cAAiB;MAEfD,EAAA,CAAAE,SAAA,cAAsB;MACtBF,EAAA,CAAAC,cAAA,YAAO;MAAAD,EAAA,CAAAG,MAAA,4JAA6B;MAAAH,EAAA,CAAAI,YAAA,EAAQ;MAI9CJ,EAAA,CAAAC,cAAA,WAAM;MAC6DD,EAAA,CAAAG,MAAA,sCAAM;MAAAH,EAAA,CAAAI,YAAA,EAAS;MAClFJ,EAAA,CAAAC,cAAA,QAAG;MACDD,EAAA,CAAAG,MAAA,uBACF;MAAAH,EAAA,CAAAI,YAAA,EAAI;MAEJJ,EAAA,CAAAC,cAAA,cAAuB;MAInBD,EAAA,CAAAE,SAAA,cAAuB;MAUzBF,EAAA,CAAAI,YAAA,EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}